## 性能优化策略
### 1. 线程池优化策略
| 配置        | 默认值      | 优化值      | 说明          |
|:----------|:---------|:---------|:------------|
| boss线程数   | CPU核心数   | 1        | 接受连接不需要太多线程 |
| worker线程数 | CPU核心数*2 | CPU核心数*2 | IO密集型       |
| 任务队列      | 无界队列     | 有界队列     | 防止OOM       |
---
### 2. TCP参数优化矩阵
| 参数           | 默认值   | 优化值  | 说明          |
|:-------------|:------|:-----|:------------|
| SO_BACKLOG   | 128   | 1024 | 等待连接队列大小    |
| SO_RCVBUF    | 64K   | 128M | 接收缓冲区大小     |
| SO_SNDBUF    | 64K   | 128M | 发送缓冲区大小     |
| TCP_NODELAY  | false | true | 禁用Nagle算法   |
| SO_KEEPALIVE | false | true | 启用keepalive |
| SO_REUSEADD  | false | true | 地址重用，快速启动   |
---
### 3. 内存泄漏检测级别
| 级别       | 开销 | 检测频率 | 适用场景 |
|:---------|:---|:-----|:-----|
| DISABLED | 无  | 无    | 生产环境 |
| SIMPLE   | 低  | 1%采样 | 默认   |
| ADVANCED | 中  | 1%采样 | 测试环境 |
| PARANOID | 高  | 100% | 调试环境 |
---
